=======================================================================
LIVRABLE 2 - SCRIPTS DÃ‰VELOPPÃ‰S SUR GITHUB
=======================================================================

Ã‰tudiant: Guillaume Cassez
Email: guillaumecassezwork@gmail.com
Projet: P10 - My Content - SystÃ¨me de Recommandation d'Articles
Date: DÃ©cembre 2024

=======================================================================
DÃ‰PÃ”T GITHUB
=======================================================================

ğŸ”— URL du dÃ©pÃ´t:
https://github.com/GuillaumeC96/P10_reco_my_content

Branche principale: main
Commit initial: 754d959

=======================================================================
CONTENU DU DÃ‰PÃ”T
=======================================================================

Le dÃ©pÃ´t GitHub contient tous les scripts permettant le dÃ©ploiement
de bout-en-bout de l'application, organisÃ©s comme suit:

1. SCRIPTS DE PRÃ‰PARATION DES DONNÃ‰ES
   - data_preparation/data_exploration.py
   - data_preparation/data_preprocessing.py
   - data_preparation/upload_to_azure.py

2. CODE APPLICATIF
   - app/streamlit_app.py (Application Streamlit)
   - azure_function/RecommendationFunction/__init__.py (Azure Functions Handler)
   - azure_function/recommendation_engine.py (Moteur de recommandation hybride)
   - azure_function/config.py (Configuration)
   - azure_function/utils.py (Utilitaires)

3. SCRIPTS DE DÃ‰PLOIEMENT
   - azure_function/deploy_azure.sh (DÃ©ploiement automatisÃ© Azure Functions)

4. TESTS
   - test_local.py (Tests locaux du moteur)
   - test_diversity.py (Tests du filtre de diversitÃ©)

5. DOCUMENTATION
   - README.md (Documentation complÃ¨te)
   - docs/architecture_technique.md
   - docs/architecture_cible.md
   - cahier_des_charges.md
   - QUICKSTART.md

6. CONFIGURATION
   - requirements.txt (DÃ©pendances Python globales)
   - app/requirements.txt (DÃ©pendances Streamlit)
   - azure_function/requirements.txt (DÃ©pendances Azure Functions)
   - .gitignore

=======================================================================
INSTRUCTIONS DE DÃ‰PLOIEMENT
=======================================================================

PRÃ‰REQUIS
---------
- Python 3.9+
- Azure CLI configurÃ© avec credentials valides
- Compte Azure avec accÃ¨s Ã  Azure Functions et Azure Blob Storage
- Git installÃ©

Ã‰TAPE 1: CLONER LE DÃ‰PÃ”T
-------------------------
git clone https://github.com/GuillaumeC96/P10_reco_my_content.git
cd P10_reco_my_content

Ã‰TAPE 2: INSTALLER LES DÃ‰PENDANCES
-----------------------------------
# DÃ©pendances globales
pip install -r requirements.txt

# DÃ©pendances Streamlit
cd app
pip install -r requirements.txt
cd ..

Ã‰TAPE 3: PRÃ‰PARER LES DONNÃ‰ES (optionnel si donnÃ©es dÃ©jÃ  prÃ©parÃ©es)
--------------------------------------------------------------------
# Explorer les donnÃ©es
python3 data_preparation/data_exploration.py

# Preprocessing (10-15 minutes)
python3 data_preparation/data_preprocessing.py

Les fichiers gÃ©nÃ©rÃ©s seront dans le dossier models/:
- user_item_matrix.npz (Matrice sparse user-article)
- mappings.pkl (Mappings user_id/article_id vers indices)
- article_popularity.pkl (Scores de popularitÃ©)
- user_profiles.json (Profils utilisateurs)
- embeddings_filtered.pkl (Embeddings des articles actifs)
- articles_metadata.csv (MÃ©tadonnÃ©es)
- preprocessing_stats.json (Statistiques)

Ã‰TAPE 4: CRÃ‰ER UN container Azure Blob Storage
----------------------------
az storage blob mb mycontent-models

Ã‰TAPE 5: UPLOADER LES MODÃˆLES VERS Azure Blob Storage
--------------------------------------
python3 data_preparation/upload_to_azure.py --container my-content-reco-container

Ã‰TAPE 6: DÃ‰PLOYER LA Azure function
-------------------------------------
cd azure_function
./deploy_azure.sh

Le script va automatiquement:
- CrÃ©er le rÃ´le Azure RBAC nÃ©cessaire
- Packager les dÃ©pendances (NumPy, Scikit-learn, azure-storage-blob)
- CrÃ©er/mettre Ã  jour la Azure Function
- Configurer la HTTP Trigger URL (HTTP public)
- Afficher l'URL d'accÃ¨s Ã  l'API

Ã‰TAPE 7: LANCER L'APPLICATION STREAMLIT
----------------------------------------
cd app
streamlit run streamlit_app.py

L'application sera accessible sur http://localhost:8501

=======================================================================
UTILISATION DE L'APPLICATION
=======================================================================

MODE LOCAL (sans Azure Functions)
-------------------------
1. Cocher "Mode local" dans l'application Streamlit
2. SÃ©lectionner un user_id
3. Ajuster les paramÃ¨tres:
   - Nombre de recommandations (1-50)
   - Alpha (poids collaborative vs content-based)
   - Activer/dÃ©sactiver le filtre de diversitÃ©
4. Cliquer sur "GÃ©nÃ©rer des recommandations"
5. Visualiser les rÃ©sultats
6. TÃ©lÃ©charger en CSV si besoin

MODE AZURE FUNCTION (API serverless)
-----------------------------
1. DÃ©cocher "Mode local"
2. Entrer l'URL de la Azure Function
3. Suivre les mÃªmes Ã©tapes que le mode local

API REST DIRECTE
----------------
Vous pouvez aussi appeler directement l'API Azure Functions:

# RequÃªte simple
curl -X POST https://func-mycontent-reco-1269.azurewebsites.net/api/recommend \
  -H "Content-Type: application/json" \
  -d '{"user_id": 123, "n": 5}'

# Avec tous les paramÃ¨tres
curl -X POST https://func-mycontent-reco-1269.azurewebsites.net/api/recommend \
  -H "Content-Type: application/json" \
  -d '{"user_id": 123, "n": 5, "weights": {"collab": 0.4, "content": 0.3, "trend": 0.3}, "use_diversity": true}'

=======================================================================
TESTS
=======================================================================

# Test local du moteur de recommandation
cd azure_function
python3 -c "
from recommendation_engine import RecommendationEngine
engine = RecommendationEngine(models_path='../models')
engine.load_models()
recs = engine.recommend(user_id=123, n_recommendations=5)
print(recs)
"

# Test de la Azure Functions dÃ©ployÃ©e
curl "https://your-azurewebsites.net/?user_id=0&n_recommendations=5"

# Test du filtre de diversitÃ©
python3 test_diversity.py

=======================================================================
ARCHITECTURE TECHNIQUE
=======================================================================

COMPOSANTS
----------
1. Application Streamlit (Interface utilisateur)
   - Framework: Streamlit 1.28+
   - Langage: Python 3.9
   - Port: 8501

2. Azure Function (Serverless compute (Azure Functions) (Azure Functions))
   - Runtime: Python 3.9
   - Memory: 1024 MB
   - Timeout: 30s
   - Trigger: HTTP Trigger URL (HTTP)

3. Azure Blob Storage (Stockage)
   - Container: my-content-reco-container
   - Taille: ~350 MB (modÃ¨les + embeddings)
   - AccÃ¨s: Azure RBAC Role

ALGORITHME DE RECOMMANDATION
-----------------------------
- Approche hybride: Collaborative Filtering + Content-Based
- Formule: Score = Î± Ã— score_collab + (1-Î±) Ã— score_content
- Gestion Cold Start (nouveaux utilisateurs)
- Filtre de diversitÃ© des catÃ©gories
- Exclusion des articles dÃ©jÃ  lus

=======================================================================
STATISTIQUES DU PROJET
=======================================================================

- 32 fichiers versionnÃ©s sur GitHub
- 370 529 lignes de code/documentation
- Dataset: 364 047 articles, ~845 000 interactions
- Utilisateurs actifs: ~38 000 (â‰¥5 interactions)
- Articles actifs: ~312 000
- SparsitÃ© matrice: >99%

=======================================================================
CONTACT ET SUPPORT
=======================================================================

ğŸ“§ Email: guillaumecassezwork@gmail.com
ğŸ”— GitHub: https://github.com/GuillaumeC96
ğŸ¢ Projet: My Content - Encourager la lecture

Pour toute question ou problÃ¨me:
1. Ouvrir une issue sur GitHub
2. Contacter par email
3. Consulter la documentation complÃ¨te dans README.md

=======================================================================
LICENCE
=======================================================================

Ce projet est dÃ©veloppÃ© dans le cadre d'un projet Ã©ducatif
(Formation OpenClassrooms - Data Scientist)

DerniÃ¨re mise Ã  jour: DÃ©cembre 2024
Version: 1.0.0 (MVP)
Status: âœ… OpÃ©rationnel

=======================================================================
