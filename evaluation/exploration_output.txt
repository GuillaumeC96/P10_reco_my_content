================================================================================
DIAGNOSTIC - EXPLORATION DE DONNÉES (Calcul âge correct)
================================================================================

[1/5] Chargement des données...
  ✓ 364,047 articles chargés
  ✓ 322,897 profils utilisateurs
  ✓ 2,950,710 stats d'interaction

[2/5] Création du split temporel...
  ✓ Split créé: 85,401 users (80% train / 20% test)
  ✓ Total train: 1,588,394 interactions
  ✓ Total test: 439,379 interactions

[3/5] Analyse des âges des articles PAR RAPPORT À LA DATE DE BASCULE...

  Analyse de 10 utilisateurs échantillon:

    User 1:
      Train: 9 articles | Test: 3 articles
      Date de split: 2017-10-12
      Test ≤60j (à la date split): 3/3 articles
      Âges à la date split: min=-5j, max=0j, moy=-3j

    User 3:
      Train: 13 articles | Test: 4 articles
      Date de split: 2017-10-06
      Test ≤60j (à la date split): 4/4 articles
      Âges à la date split: min=-6j, max=-5j, moy=-6j

    User 5:
      Train: 67 articles | Test: 17 articles
      Date de split: 2017-10-15
      Test ≤60j (à la date split): 17/17 articles
      Âges à la date split: min=-2j, max=3j, moy=-0j

    User 6:
      Train: 27 articles | Test: 7 articles
      Date de split: 2017-10-10
      Test ≤60j (à la date split): 7/7 articles
      Âges à la date split: min=-5j, max=0j, moy=-3j

    User 7:
      Train: 17 articles | Test: 5 articles
      Date de split: 2017-10-16
      Test ≤60j (à la date split): 5/5 articles
      Âges à la date split: min=-1j, max=-1j, moy=-1j

    User 8:
      Train: 44 articles | Test: 12 articles
      Date de split: 2017-10-11
      Test ≤60j (à la date split): 12/12 articles
      Âges à la date split: min=-6j, max=0j, moy=-2j

    User 10:
      Train: 43 articles | Test: 11 articles
      Date de split: 2017-10-13
      Test ≤60j (à la date split): 11/11 articles
      Âges à la date split: min=-3j, max=0j, moy=-1j

    User 11:
      Train: 40 articles | Test: 11 articles
      Date de split: 2017-10-11
      Test ≤60j (à la date split): 11/11 articles
      Âges à la date split: min=-6j, max=0j, moy=-4j

    User 12:
      Train: 25 articles | Test: 7 articles
      Date de split: 2017-10-11
      Test ≤60j (à la date split): 7/7 articles
      Âges à la date split: min=-5j, max=0j, moy=-4j

    User 13:
      Train: 9 articles | Test: 3 articles
      Date de split: 2017-10-10
      Test ≤60j (à la date split): 2/3 articles
      Âges à la date split: min=-2j, max=214j, moy=70j


[4/5] Statistiques globales sur TOUS les utilisateurs de test...

  Total articles de test: 439,379
  Articles ≤60j à leur date de split: 434,538 (98.90%)

  Distribution des âges (à la date de split):
    Min: -1725 jours
    Max: 3422 jours
    Moyenne: -2.0 jours
    Médiane: -2.0 jours

  Quantiles:
    10%:   -6.0 jours
    25%:   -4.0 jours
    50%:   -2.0 jours
    75%:   -1.0 jours
    90%:    0.0 jours
    95%:    0.0 jours
    99%:   85.0 jours

  Articles de test par tranche d'âge (à la date split):
    0-7 jours           : 70,608 (16.07%)
    8-14 jours          :    850 ( 0.19%)
    15-30 jours         :    963 ( 0.22%)
    31-60 jours         :    649 ( 0.15%)
    61-90 jours         :    542 ( 0.12%)
    91-180 jours        :    812 ( 0.18%)
    181-365 jours       :  1,195 ( 0.27%)
    >365 jours          :  2,292 ( 0.52%)

================================================================================
DIAGNOSTIC FINAL
================================================================================

1. VALIDATION SET:
   - Total articles de test: 439,379
   - Articles ≤60j (à leur date de split): 434,538 (98.90%)
   - Âge médian: -2 jours

2. FENÊTRE TEMPORELLE:
   - MAX_ARTICLE_AGE_DAYS: 60 jours

✓ OK: 98.90% des articles du test set sont éligibles
La fenêtre temporelle permet une évaluation raisonnable.

================================================================================

✓ Statistiques sauvegardées dans: exploration_stats.json
